[
  {
    "objectID": "02-wrangling/03-tables.html",
    "href": "02-wrangling/03-tables.html",
    "title": "03-tables",
    "section": "",
    "text": "This short tutorial shows common gt workflows: build a basic table, format numbers and labels, add color scales, and produce a grouped summary.",
    "crumbs": [
      "Data Manipulation",
      "03-tables"
    ]
  },
  {
    "objectID": "02-wrangling/03-tables.html#quick-tutorial-gt-with-the-palmerpenguins-dataset",
    "href": "02-wrangling/03-tables.html#quick-tutorial-gt-with-the-palmerpenguins-dataset",
    "title": "03-tables",
    "section": "",
    "text": "This short tutorial shows common gt workflows: build a basic table, format numbers and labels, add color scales, and produce a grouped summary.",
    "crumbs": [
      "Data Manipulation",
      "03-tables"
    ]
  },
  {
    "objectID": "02-wrangling/03-tables.html#setup",
    "href": "02-wrangling/03-tables.html#setup",
    "title": "03-tables",
    "section": "Setup",
    "text": "Setup\nInstall and load packages (only once):\n\n# install.packages(c(\"gt\", \"palmerpenguins\", \"dplyr\", \"scales\"))\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(gt)\nlibrary(palmerpenguins)\n\n\nAttaching package: 'palmerpenguins'\n\nThe following objects are masked from 'package:datasets':\n\n    penguins, penguins_raw\n\nlibrary(scales)\n\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\n\n\nBasic table Select a handful of columns and render a simple gt table.\n\n\npenguins_clean &lt;- penguins %&gt;%\n  select(species, island, bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g, sex) %&gt;%\n  drop_na()\n\npenguins_clean %&gt;%\n  slice_head(n = 10) %&gt;%\n  gt()\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\n\n\n\n\nAdelie\nTorgersen\n39.1\n18.7\n181\n3750\nmale\n\n\nAdelie\nTorgersen\n39.5\n17.4\n186\n3800\nfemale\n\n\nAdelie\nTorgersen\n40.3\n18.0\n195\n3250\nfemale\n\n\nAdelie\nTorgersen\n36.7\n19.3\n193\n3450\nfemale\n\n\nAdelie\nTorgersen\n39.3\n20.6\n190\n3650\nmale\n\n\nAdelie\nTorgersen\n38.9\n17.8\n181\n3625\nfemale\n\n\nAdelie\nTorgersen\n39.2\n19.6\n195\n4675\nmale\n\n\nAdelie\nTorgersen\n41.1\n17.6\n182\n3200\nfemale\n\n\nAdelie\nTorgersen\n38.6\n21.2\n191\n3800\nmale\n\n\nAdelie\nTorgersen\n34.6\n21.1\n198\n4400\nmale\n\n\n\n\n\n\n\n\nFormat numbers and labels Use gt formatting helpers to control decimal places and column labels.\n\n\npenguins_clean %&gt;%\n  slice_head(n = 10) %&gt;%\n  gt() %&gt;%\n  cols_label(\n    species = \"Species\",\n    island = \"Island\",\n    bill_length_mm = \"Bill (mm)\",\n    bill_depth_mm  = \"Bill depth (mm)\",\n    flipper_length_mm = \"Flipper (mm)\",\n    body_mass_g = \"Body mass (g)\",\n    sex = \"Sex\"\n  ) %&gt;%\n  fmt_number(\n    columns = c(\"bill_length_mm\", \"bill_depth_mm\", \"flipper_length_mm\"),\n    decimals = 1\n  ) %&gt;%\n  fmt_number(\n    columns = c(\"body_mass_g\"),\n    decimals = 0\n  )\n\n\n\n\n\n\n\nSpecies\nIsland\nBill (mm)\nBill depth (mm)\nFlipper (mm)\nBody mass (g)\nSex\n\n\n\n\nAdelie\nTorgersen\n39.1\n18.7\n181.0\n3,750\nmale\n\n\nAdelie\nTorgersen\n39.5\n17.4\n186.0\n3,800\nfemale\n\n\nAdelie\nTorgersen\n40.3\n18.0\n195.0\n3,250\nfemale\n\n\nAdelie\nTorgersen\n36.7\n19.3\n193.0\n3,450\nfemale\n\n\nAdelie\nTorgersen\n39.3\n20.6\n190.0\n3,650\nmale\n\n\nAdelie\nTorgersen\n38.9\n17.8\n181.0\n3,625\nfemale\n\n\nAdelie\nTorgersen\n39.2\n19.6\n195.0\n4,675\nmale\n\n\nAdelie\nTorgersen\n41.1\n17.6\n182.0\n3,200\nfemale\n\n\nAdelie\nTorgersen\n38.6\n21.2\n191.0\n3,800\nmale\n\n\nAdelie\nTorgersen\n34.6\n21.1\n198.0\n4,400\nmale\n\n\n\n\n\n\n\n\nAdd a color scale Highlight body mass with a color ramp to make patterns visible.\n\n\nbody_range &lt;- range(penguins_clean$body_mass_g, na.rm = TRUE)\n\npenguins_clean %&gt;%\n  slice_head(n = 10) %&gt;%\n  gt() %&gt;%\n  cols_label(body_mass_g = \"Body mass (g)\") %&gt;%\n  data_color(\n    columns = c(\"body_mass_g\"),\n    colors = col_numeric(\n      palette = c(\"lightyellow\", \"orange\", \"red\"),\n      domain = body_range\n    )\n  ) %&gt;%\n  fmt_number(columns = vars(body_mass_g), decimals = 0)\n\nWarning: Since gt v0.9.0, the `colors` argument has been deprecated.\n• Please use the `fn` argument instead.\nThis warning is displayed once every 8 hours.\n\n\nWarning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nBody mass (g)\nsex\n\n\n\n\nAdelie\nTorgersen\n39.1\n18.7\n181\n3,750\nmale\n\n\nAdelie\nTorgersen\n39.5\n17.4\n186\n3,800\nfemale\n\n\nAdelie\nTorgersen\n40.3\n18.0\n195\n3,250\nfemale\n\n\nAdelie\nTorgersen\n36.7\n19.3\n193\n3,450\nfemale\n\n\nAdelie\nTorgersen\n39.3\n20.6\n190\n3,650\nmale\n\n\nAdelie\nTorgersen\n38.9\n17.8\n181\n3,625\nfemale\n\n\nAdelie\nTorgersen\n39.2\n19.6\n195\n4,675\nmale\n\n\nAdelie\nTorgersen\n41.1\n17.6\n182\n3,200\nfemale\n\n\nAdelie\nTorgersen\n38.6\n21.2\n191\n3,800\nmale\n\n\nAdelie\nTorgersen\n34.6\n21.1\n198\n4,400\nmale\n\n\n\n\n\n\n\nUsing scales to create the colour mapper The function col_numeric() used above comes from the scales package (scales::col_numeric). It builds and returns a function that maps numeric values to colors; you pass that function to gt::data_color so gt can colour cells based on the numeric values. The two important arguments are palette (the colour stops — use hex codes or a perceptually uniform palette like viridis) and domain (the numeric range to map).\nTip: construct the mapping function explicitly so you can inspect or reuse it, and prefer explicit domains (range(…, na.rm = TRUE)) and hex colours for reproducibility and accessibility.\n\n# create a reusable colour-mapping function (example using viridis)\nlibrary(viridisLite)   # lightweight dependency for perceptual colours\n\ncolor_fn &lt;- scales::col_numeric(\n  palette = viridisLite::viridis(5),                       # perceptually uniform palette\n  domain  = range(penguins_clean$body_mass_g, na.rm = TRUE) # explicit numeric domain\n)\n\n# inspect output for a few values\ncolor_fn(c(2700, 3500, 5000))\n\n[1] \"#440154\" \"#3E4B85\" \"#4BAF77\"\n\n# use the function with gt::data_color\npenguins_clean %&gt;%\n  slice_head(n = 10) %&gt;%\n  gt() %&gt;%\n  cols_label(body_mass_g = \"Body mass (g)\") %&gt;%\n  data_color(columns = c(\"body_mass_g\"), colors = color_fn) %&gt;%\n  fmt_number(columns = vars(body_mass_g), decimals = 0)\n\nWarning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nBody mass (g)\nsex\n\n\n\n\nAdelie\nTorgersen\n39.1\n18.7\n181\n3,750\nmale\n\n\nAdelie\nTorgersen\n39.5\n17.4\n186\n3,800\nfemale\n\n\nAdelie\nTorgersen\n40.3\n18.0\n195\n3,250\nfemale\n\n\nAdelie\nTorgersen\n36.7\n19.3\n193\n3,450\nfemale\n\n\nAdelie\nTorgersen\n39.3\n20.6\n190\n3,650\nmale\n\n\nAdelie\nTorgersen\n38.9\n17.8\n181\n3,625\nfemale\n\n\nAdelie\nTorgersen\n39.2\n19.6\n195\n4,675\nmale\n\n\nAdelie\nTorgersen\n41.1\n17.6\n182\n3,200\nfemale\n\n\nAdelie\nTorgersen\n38.6\n21.2\n191\n3,800\nmale\n\n\nAdelie\nTorgersen\n34.6\n21.1\n198\n4,400\nmale\n\n\n\n\n\n\n\nFor other needs, scales also provides helpers like col_bin(), col_quantile(), and col_factor() to create binned, quantile-based, or categorical colour mappings. ``````\n\nGrouped summary (per species) Create a summary table grouped by species: mean body mass and median flipper length.\n\n\nsummary_tbl &lt;- penguins_clean %&gt;%\n  group_by(species) %&gt;%\n  summarise(\n    n = n(),\n    mean_body_mass = mean(body_mass_g, na.rm = TRUE),\n    median_flipper = median(flipper_length_mm, na.rm = TRUE)\n  ) %&gt;%\n  ungroup()\n\nsummary_tbl %&gt;%\n  gt(rowname_col = \"species\") %&gt;%\n  cols_label(\n    n = \"Count\",\n    mean_body_mass = \"Mean body mass (g)\",\n    median_flipper = \"Median flipper (mm)\"\n  ) %&gt;%\n  fmt_number(columns = vars(mean_body_mass, median_flipper), decimals = 1)\n\nWarning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\n\n\n\n\n\n\n\n\n\nCount\nMean body mass (g)\nMedian flipper (mm)\n\n\n\n\nAdelie\n146\n3,706.2\n190.0\n\n\nChinstrap\n68\n3,733.1\n196.0\n\n\nGentoo\n119\n5,092.4\n216.0\n\n\n\n\n\n\n\n\nGrouped details plus summary rows Show species groups with a grand summary row.\n\n\npenguins_clean %&gt;%\n  group_by(species) %&gt;%\n  slice_sample(n = 6) %&gt;%    # small sample per species for display\n  ungroup() %&gt;%\n  gt(groupname_col = \"species\") %&gt;%\n  summary_rows(\n    groups = TRUE,\n    columns = c(\"body_mass_g\"),\n    fns = list(\n      \"avg (g)\" = ~mean(., na.rm = TRUE),\n      \"min (g)\" = ~min(., na.rm = TRUE),\n      \"max (g)\" = ~max(., na.rm = TRUE)\n    )\n  ) %&gt;%\n  grand_summary_rows(\n    columns = c(\"body_mass_g\"),\n    fns = list(\"Overall avg (g)\" = ~mean(., na.rm = TRUE))\n  ) %&gt;%\n  fmt_number(columns = vars(body_mass_g), decimals = 0)\n\nWarning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\n\n\n\n\n\n\n\n\n\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\n\n\n\n\nAdelie\n\n\n\nDream\n37.6\n19.3\n181\n3,300\nfemale\n\n\n\nTorgersen\n33.5\n19.0\n190\n3,600\nfemale\n\n\n\nDream\n38.9\n18.8\n190\n3,600\nfemale\n\n\n\nTorgersen\n36.2\n16.1\n187\n3,550\nfemale\n\n\n\nTorgersen\n40.6\n19.0\n199\n4,000\nmale\n\n\n\nBiscoe\n36.4\n17.1\n184\n2,850\nfemale\n\n\nChinstrap\n\n\n\nDream\n52.0\n18.1\n201\n4,050\nmale\n\n\n\nDream\n45.7\n17.0\n195\n3,650\nfemale\n\n\n\nDream\n46.8\n16.5\n189\n3,650\nfemale\n\n\n\nDream\n42.5\n16.7\n187\n3,350\nfemale\n\n\n\nDream\n58.0\n17.8\n181\n3,700\nfemale\n\n\n\nDream\n50.6\n19.4\n193\n3,800\nmale\n\n\nGentoo\n\n\n\nBiscoe\n47.5\n15.0\n218\n4,950\nfemale\n\n\n\nBiscoe\n47.2\n15.5\n215\n4,975\nfemale\n\n\n\nBiscoe\n52.2\n17.1\n228\n5,400\nmale\n\n\n\nBiscoe\n48.6\n16.0\n230\n5,800\nmale\n\n\n\nBiscoe\n45.2\n14.8\n212\n5,200\nfemale\n\n\n\nBiscoe\n50.1\n15.0\n225\n5,000\nmale\n\n\nOverall avg (g)\n—\n—\n—\n—\n4134.722\n—",
    "crumbs": [
      "Data Manipulation",
      "03-tables"
    ]
  },
  {
    "objectID": "02-wrangling/01-tidy.html",
    "href": "02-wrangling/01-tidy.html",
    "title": "01-tidy",
    "section": "",
    "text": "library(tidyverse)\nlibrary(palmerpenguins)\nlibrary(janitor)\nlibrary(tidyr)",
    "crumbs": [
      "Data Manipulation",
      "01-tidy"
    ]
  },
  {
    "objectID": "02-wrangling/01-tidy.html#setup",
    "href": "02-wrangling/01-tidy.html#setup",
    "title": "01-tidy",
    "section": "",
    "text": "library(tidyverse)\nlibrary(palmerpenguins)\nlibrary(janitor)\nlibrary(tidyr)",
    "crumbs": [
      "Data Manipulation",
      "01-tidy"
    ]
  },
  {
    "objectID": "02-wrangling/01-tidy.html#quick-tidy-tutorial-janitor-tidyr-with-palmerpenguins",
    "href": "02-wrangling/01-tidy.html#quick-tidy-tutorial-janitor-tidyr-with-palmerpenguins",
    "title": "01-tidy",
    "section": "Quick tidy tutorial: janitor + tidyr with palmerpenguins",
    "text": "Quick tidy tutorial: janitor + tidyr with palmerpenguins\nThis brief tutorial shows common janitor helpers for cleaning tables and tidyr verbs for reshaping data using the raw palmerpenguins dataset.\n\nJanitor\nJanitor: quick cleaning and simple summaries\n\nclean_names() makes column names consistent (snake_case).\nremove_empty() drops empty rows/columns.\ntabyl() creates simple frequency tables; adorn_* helpers add percentages/totals.\n\n\n# inspect raw data\npenguins_raw %&gt;% slice_head(n = 6)\n\n# A tibble: 6 × 17\n  studyName `Sample Number` Species          Region Island Stage `Individual ID`\n  &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          \n1 PAL0708                 1 Adelie Penguin … Anvers Torge… Adul… N1A1           \n2 PAL0708                 2 Adelie Penguin … Anvers Torge… Adul… N1A2           \n3 PAL0708                 3 Adelie Penguin … Anvers Torge… Adul… N2A1           \n4 PAL0708                 4 Adelie Penguin … Anvers Torge… Adul… N2A2           \n5 PAL0708                 5 Adelie Penguin … Anvers Torge… Adul… N3A1           \n6 PAL0708                 6 Adelie Penguin … Anvers Torge… Adul… N3A2           \n# ℹ 10 more variables: `Clutch Completion` &lt;chr&gt;, `Date Egg` &lt;date&gt;,\n#   `Culmen Length (mm)` &lt;dbl&gt;, `Culmen Depth (mm)` &lt;dbl&gt;,\n#   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;,\n#   `Delta 15 N (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;\n\n# make names consistent\npenguins_clean_names &lt;- penguins_raw %&gt;% clean_names()\nnames(penguins_clean_names)\n\n [1] \"study_name\"        \"sample_number\"     \"species\"          \n [4] \"region\"            \"island\"            \"stage\"            \n [7] \"individual_id\"     \"clutch_completion\" \"date_egg\"         \n[10] \"culmen_length_mm\"  \"culmen_depth_mm\"   \"flipper_length_mm\"\n[13] \"body_mass_g\"       \"sex\"               \"delta_15_n_o_oo\"  \n[16] \"delta_13_c_o_oo\"   \"comments\"         \n\n# rename culmen to bill\npenguins_clean_names &lt;- penguins_clean_names %&gt;% \n  rename_with(.cols = contains(\"culmen\"), .fn = \\(x){str_replace(x, \"culmen\", \"bill\")})\nnames(penguins_clean_names)\n\n [1] \"study_name\"        \"sample_number\"     \"species\"          \n [4] \"region\"            \"island\"            \"stage\"            \n [7] \"individual_id\"     \"clutch_completion\" \"date_egg\"         \n[10] \"bill_length_mm\"    \"bill_depth_mm\"     \"flipper_length_mm\"\n[13] \"body_mass_g\"       \"sex\"               \"delta_15_n_o_oo\"  \n[16] \"delta_13_c_o_oo\"   \"comments\"         \n\n# remove fully empty rows/columns (if present)\npenguins_pruned &lt;- penguins_clean_names %&gt;%\n  remove_empty(\"cols\") %&gt;%\n  remove_empty(\"rows\")\n\n# frequency table: species by island with totals\npenguins_pruned %&gt;%\n  tabyl(species, island) %&gt;%\n  adorn_totals(where = \"both\")\n\n                                   species Biscoe Dream Torgersen Total\n       Adelie Penguin (Pygoscelis adeliae)     44    56        52   152\n Chinstrap penguin (Pygoscelis antarctica)      0    68         0    68\n         Gentoo penguin (Pygoscelis papua)    124     0         0   124\n                                     Total    168   124        52   344\n\n\n\n\nTidyr\nTidyr: reshape to long and back, separate/unite\n\npivot_longer() gathers measurement columns into key/value pairs (tidy long format).\npivot_wider() spreads long data back to wide form.\nunite() combines columns; separate() splits them.\n\n\n# pivot longer: measurements to long format\nmeasurements_long &lt;- penguins_pruned %&gt;%\n  select(species, island, bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g, sex) %&gt;%\n  pivot_longer(\n    cols = c(bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g),\n    names_to = \"measurement\",\n    values_to = \"value\"\n  )\n\nmeasurements_long %&gt;% slice_head(n = 8)\n\n# A tibble: 8 × 5\n  species                             island    sex    measurement        value\n  &lt;chr&gt;                               &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;              &lt;dbl&gt;\n1 Adelie Penguin (Pygoscelis adeliae) Torgersen MALE   bill_length_mm      39.1\n2 Adelie Penguin (Pygoscelis adeliae) Torgersen MALE   bill_depth_mm       18.7\n3 Adelie Penguin (Pygoscelis adeliae) Torgersen MALE   flipper_length_mm  181  \n4 Adelie Penguin (Pygoscelis adeliae) Torgersen MALE   body_mass_g       3750  \n5 Adelie Penguin (Pygoscelis adeliae) Torgersen FEMALE bill_length_mm      39.5\n6 Adelie Penguin (Pygoscelis adeliae) Torgersen FEMALE bill_depth_mm       17.4\n7 Adelie Penguin (Pygoscelis adeliae) Torgersen FEMALE flipper_length_mm  186  \n8 Adelie Penguin (Pygoscelis adeliae) Torgersen FEMALE body_mass_g       3800  \n\n# pivot wider: return to wide form\nmeasurements_long %&gt;%\n  pivot_wider(names_from = measurement, values_from = value) %&gt;%\n  slice_head(n = 6)\n\nWarning: Values from `value` are not uniquely identified; output will contain list-cols.\n• Use `values_fn = list` to suppress this warning.\n• Use `values_fn = {summary_fun}` to summarise duplicates.\n• Use the following dplyr code to identify duplicates.\n  {data} |&gt;\n  dplyr::summarise(n = dplyr::n(), .by = c(species, island, sex, measurement))\n  |&gt;\n  dplyr::filter(n &gt; 1L)\n\n\n# A tibble: 6 × 7\n  species            island sex   bill_length_mm bill_depth_mm flipper_length_mm\n  &lt;chr&gt;              &lt;chr&gt;  &lt;chr&gt; &lt;list&gt;         &lt;list&gt;        &lt;list&gt;           \n1 Adelie Penguin (P… Torge… MALE  &lt;dbl [23]&gt;     &lt;dbl [23]&gt;    &lt;dbl [23]&gt;       \n2 Adelie Penguin (P… Torge… FEMA… &lt;dbl [24]&gt;     &lt;dbl [24]&gt;    &lt;dbl [24]&gt;       \n3 Adelie Penguin (P… Torge… &lt;NA&gt;  &lt;dbl [5]&gt;      &lt;dbl [5]&gt;     &lt;dbl [5]&gt;        \n4 Adelie Penguin (P… Biscoe FEMA… &lt;dbl [22]&gt;     &lt;dbl [22]&gt;    &lt;dbl [22]&gt;       \n5 Adelie Penguin (P… Biscoe MALE  &lt;dbl [22]&gt;     &lt;dbl [22]&gt;    &lt;dbl [22]&gt;       \n6 Adelie Penguin (P… Dream  FEMA… &lt;dbl [27]&gt;     &lt;dbl [27]&gt;    &lt;dbl [27]&gt;       \n# ℹ 1 more variable: body_mass_g &lt;list&gt;\n\n# unite + separate example\nsp_island &lt;- penguins_pruned %&gt;%\n  unite(\"species_island\", species, island, sep = \" | \", remove = FALSE)\n\nsp_island %&gt;% slice_head(n = 6)\n\n# A tibble: 6 × 18\n  study_name sample_number species_island            species region island stage\n  &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;                     &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;\n1 PAL0708                1 Adelie Penguin (Pygoscel… Adelie… Anvers Torge… Adul…\n2 PAL0708                2 Adelie Penguin (Pygoscel… Adelie… Anvers Torge… Adul…\n3 PAL0708                3 Adelie Penguin (Pygoscel… Adelie… Anvers Torge… Adul…\n4 PAL0708                4 Adelie Penguin (Pygoscel… Adelie… Anvers Torge… Adul…\n5 PAL0708                5 Adelie Penguin (Pygoscel… Adelie… Anvers Torge… Adul…\n6 PAL0708                6 Adelie Penguin (Pygoscel… Adelie… Anvers Torge… Adul…\n# ℹ 11 more variables: individual_id &lt;chr&gt;, clutch_completion &lt;chr&gt;,\n#   date_egg &lt;date&gt;, bill_length_mm &lt;dbl&gt;, bill_depth_mm &lt;dbl&gt;,\n#   flipper_length_mm &lt;dbl&gt;, body_mass_g &lt;dbl&gt;, sex &lt;chr&gt;,\n#   delta_15_n_o_oo &lt;dbl&gt;, delta_13_c_o_oo &lt;dbl&gt;, comments &lt;chr&gt;\n\nsp_island %&gt;%\n  separate(species_island, into = c(\"sp\", \"isl\"), sep = \" \\\\| \") %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 19\n  study_name sample_number sp    isl   species region island stage individual_id\n  &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;        \n1 PAL0708                1 Adel… Torg… Adelie… Anvers Torge… Adul… N1A1         \n2 PAL0708                2 Adel… Torg… Adelie… Anvers Torge… Adul… N1A2         \n3 PAL0708                3 Adel… Torg… Adelie… Anvers Torge… Adul… N2A1         \n4 PAL0708                4 Adel… Torg… Adelie… Anvers Torge… Adul… N2A2         \n5 PAL0708                5 Adel… Torg… Adelie… Anvers Torge… Adul… N3A1         \n6 PAL0708                6 Adel… Torg… Adelie… Anvers Torge… Adul… N3A2         \n# ℹ 10 more variables: clutch_completion &lt;chr&gt;, date_egg &lt;date&gt;,\n#   bill_length_mm &lt;dbl&gt;, bill_depth_mm &lt;dbl&gt;, flipper_length_mm &lt;dbl&gt;,\n#   body_mass_g &lt;dbl&gt;, sex &lt;chr&gt;, delta_15_n_o_oo &lt;dbl&gt;, delta_13_c_o_oo &lt;dbl&gt;,\n#   comments &lt;chr&gt;\n\n\nMissing values and simple fixes\n\ndrop_na() removes rows with missing values in specific columns.\nfill() carries values forward/backward when appropriate.\n\n\n# drop rows missing key measurements\npenguins_pruned %&gt;% drop_na(bill_length_mm, body_mass_g) %&gt;% slice_head(n = 6)\n\n# A tibble: 6 × 17\n  study_name sample_number species             region island stage individual_id\n  &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;               &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;        \n1 PAL0708                1 Adelie Penguin (Py… Anvers Torge… Adul… N1A1         \n2 PAL0708                2 Adelie Penguin (Py… Anvers Torge… Adul… N1A2         \n3 PAL0708                3 Adelie Penguin (Py… Anvers Torge… Adul… N2A1         \n4 PAL0708                5 Adelie Penguin (Py… Anvers Torge… Adul… N3A1         \n5 PAL0708                6 Adelie Penguin (Py… Anvers Torge… Adul… N3A2         \n6 PAL0708                7 Adelie Penguin (Py… Anvers Torge… Adul… N4A1         \n# ℹ 10 more variables: clutch_completion &lt;chr&gt;, date_egg &lt;date&gt;,\n#   bill_length_mm &lt;dbl&gt;, bill_depth_mm &lt;dbl&gt;, flipper_length_mm &lt;dbl&gt;,\n#   body_mass_g &lt;dbl&gt;, sex &lt;chr&gt;, delta_15_n_o_oo &lt;dbl&gt;, delta_13_c_o_oo &lt;dbl&gt;,\n#   comments &lt;chr&gt;\n\n# example: fill a grouped annotation (if there were grouping metadata to propagate)\n# penguins_pruned %&gt;% arrange(species) %&gt;% fill(some_group_col, .direction = \"down\")\n\nNotes\n\nUse janitor for quick table hygiene and simple frequency tables.\nUse tidyr to make data tidy (long) for analysis and then pivot back for presentation.",
    "crumbs": [
      "Data Manipulation",
      "01-tidy"
    ]
  },
  {
    "objectID": "01-plotting/02-multiplots.html",
    "href": "01-plotting/02-multiplots.html",
    "title": "Multi-plots",
    "section": "",
    "text": "library(tidyverse)\nlibrary(palmerpenguins)\n\n# brings 'penguins' dataset into name space\nattach(penguins)\n# brings 'penguins_raw' dataset into name space\nattach(penguins_raw)",
    "crumbs": [
      "Plotting",
      "Multi-plots"
    ]
  },
  {
    "objectID": "01-plotting/02-multiplots.html#setup",
    "href": "01-plotting/02-multiplots.html#setup",
    "title": "Multi-plots",
    "section": "",
    "text": "library(tidyverse)\nlibrary(palmerpenguins)\n\n# brings 'penguins' dataset into name space\nattach(penguins)\n# brings 'penguins_raw' dataset into name space\nattach(penguins_raw)",
    "crumbs": [
      "Plotting",
      "Multi-plots"
    ]
  },
  {
    "objectID": "01-plotting/02-multiplots.html#multi-plots-with-patchwork",
    "href": "01-plotting/02-multiplots.html#multi-plots-with-patchwork",
    "title": "Multi-plots",
    "section": "Multi-plots with Patchwork",
    "text": "Multi-plots with Patchwork\nThe {patchwork} package is great for assembling multiple plots into a single plot\nDocumentation for {patchwork}: https://patchwork.data-imaginist.com/index.html\n\nlibrary(patchwork)\n\n\npenguin_point_plot &lt;- ggplot(\n  data = penguins,\n  mapping = aes(x = body_mass_g,\n                y = flipper_length_mm,\n                colour = island)\n) + \n  geom_point() +\n  ggtitle(\"Plot 1\")\n  \n\npenguin_box_plot &lt;- ggplot(\n  data = penguins,\n  mapping = aes(x = species,\n                y = flipper_length_mm,\n                )\n) + \n  geom_boxplot() +\n  ggtitle(\"Plot2\")\n\nDifferent ways of combining plots\n\npenguin_point_plot + penguin_box_plot\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\n\n\n\n\n\n\n\n\npenguin_point_plot / penguin_box_plot\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\n\n\n\n\n\n\n\nIncluding a table\n\nlibrary(gt)\npenguin_tab &lt;- penguins %&gt;% \n  group_by(species) %&gt;% \n  summarise(n = n()) %&gt;% \n  gt()  \n\n\npenguin_point_plot + penguin_tab\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\nControlling Layouts",
    "crumbs": [
      "Plotting",
      "Multi-plots"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Beyond Intro R",
    "section": "",
    "text": "This workshop is under construction",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "01-plotting-overview.html",
    "href": "01-plotting-overview.html",
    "title": "Plotting Overview and Refresher",
    "section": "",
    "text": "Resources:",
    "crumbs": [
      "Plotting"
    ]
  },
  {
    "objectID": "01-plotting-overview.html#refresher",
    "href": "01-plotting-overview.html#refresher",
    "title": "Plotting Overview and Refresher",
    "section": "Refresher",
    "text": "Refresher\nA more in depth intro to ggplot2 is covered in Data Carpentry - Data Analysis and Visualisation for Ecologists. This is a brief overview/refresher.\n\nSetup\n\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\n# brings 'penguins' dataset into name space\nattach(penguins)\n# brings 'penguins_raw' dataset into name space\nattach(penguins_raw)\n\n\n\nBasics of Plotting with {ggplot2}\nThe basic premise of ggplot is that there are 3 main components to a plot:\n\nthe data\na mapping of the data to aesthetics of the plot e.g. x or y axes\n\nthis can be done for all layers of a plot at once by including it within the aes() within the ggplot() function\nor to specific layers by using aes() within a geom function\n\na geometric representation of the data e.g points, bars, boxplot\n\nand the plots are built in layers\n\nggplot(\n  data = penguins,\n  mapping = aes(x = body_mass_g,\n                y = flipper_length_mm)\n) +\n  geom_point()\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nAnd we can modify the properties of layer to a specific value\n\nggplot(\n  data = penguins,\n  mapping = aes(x = body_mass_g,\n                y = flipper_length_mm)\n) +\n  geom_point(colour = \"blue\")\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nOr the property can be mapped back to the data - when this is the case we use aes()\n\nggplot(\n  data = penguins,\n  mapping = aes(x = body_mass_g,\n                y = flipper_length_mm)\n) +\n  geom_point(mapping = aes(colour = island))\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nPlots can also be built incrementally by assignment\n\npenguin_plot &lt;- ggplot(\n  data = penguins,\n  mapping = aes(x = body_mass_g,\n                y = flipper_length_mm,\n                colour = island)\n) \n\npenguin_plot &lt;- penguin_plot +\n  geom_point()\n\npenguin_plot\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).",
    "crumbs": [
      "Plotting"
    ]
  },
  {
    "objectID": "01-plotting/01-plotting.html",
    "href": "01-plotting/01-plotting.html",
    "title": "Plot Customisation",
    "section": "",
    "text": "library(tidyverse)\nlibrary(palmerpenguins)\n\n# brings 'penguins' dataset into name space\nattach(penguins)\n# brings 'penguins_raw' dataset into name space\nattach(penguins_raw)\n\nThe base plot we’ll use to look at customisations\n\npenguin_plot &lt;- ggplot(\n  data = penguins,\n  mapping = aes(x = body_mass_g,\n                y = flipper_length_mm,\n                colour = island)\n) \n\npenguin_plot &lt;- penguin_plot +\n  geom_point()\n\npenguin_plot\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).",
    "crumbs": [
      "Plotting",
      "Plot Customisation"
    ]
  },
  {
    "objectID": "01-plotting/01-plotting.html#setup",
    "href": "01-plotting/01-plotting.html#setup",
    "title": "Plot Customisation",
    "section": "",
    "text": "library(tidyverse)\nlibrary(palmerpenguins)\n\n# brings 'penguins' dataset into name space\nattach(penguins)\n# brings 'penguins_raw' dataset into name space\nattach(penguins_raw)\n\nThe base plot we’ll use to look at customisations\n\npenguin_plot &lt;- ggplot(\n  data = penguins,\n  mapping = aes(x = body_mass_g,\n                y = flipper_length_mm,\n                colour = island)\n) \n\npenguin_plot &lt;- penguin_plot +\n  geom_point()\n\npenguin_plot\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).",
    "crumbs": [
      "Plotting",
      "Plot Customisation"
    ]
  },
  {
    "objectID": "01-plotting/01-plotting.html#theming-and-labels",
    "href": "01-plotting/01-plotting.html#theming-and-labels",
    "title": "Plot Customisation",
    "section": "Theming and Labels",
    "text": "Theming and Labels\n\nlabs() can be used to alter the labels such as title, subtitle, x, and y.\ntheme() is used to alther elements of the theme\n\n\npenguin_plot &lt;- penguin_plot +\n  labs(x = \"Body Mass (g)\",\n       y = \"Flipper Lenght (mm)\",\n       title = \"Body Mass vs Flipper Length\") \n\npenguin_plot +\n  theme(panel.grid.minor = element_blank())\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nOr you can apply how pre-defined themes e.g. `theme_bw()\n\npenguin_plot +\n  theme_bw()\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).",
    "crumbs": [
      "Plotting",
      "Plot Customisation"
    ]
  },
  {
    "objectID": "01-plotting/01-plotting.html#customising-plots",
    "href": "01-plotting/01-plotting.html#customising-plots",
    "title": "Plot Customisation",
    "section": "Customising Plots",
    "text": "Customising Plots\n\nLegend customisation\nOften you will want to customise the colours used in the legend or the name of it\nMany generator functions exist and these differ by the scale type, but for manual specification scale_&lt;type&gt;_manual is the generic function, where &lt;type&gt; corresponds to the property used in aes.\n\npenguin_plot +\n  scale_colour_manual(name = \"Island\",\n    values = c(Biscoe = \"purple\", Dream = \"brown\", Torgersen = \"yellow\")\n  )\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\nggplot(penguins, aes(x = body_mass_g, y = flipper_length_mm, colour = species)) +\n  geom_point() +\n  scale_colour_manual(\n    name = \"Penguin species\",\n    values = c(Adelie = \"#1b9e77\", Chinstrap = \"#d95f02\", Gentoo = \"#7570b3\"),\n    labels = c(Adelie = \"Adelie (Aptenodytes)\", Chinstrap = \"Chinstrap (Pygoscelis)\", Gentoo = \"Gentoo (Pygoscelis)\")\n  ) +\n  guides(colour = guide_legend(title.position = \"top\", title.hjust = 0.5, nrow = 1)) +\n  theme(legend.position = \"top\")\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n# increase point size in legend only (penguins)\nggplot(penguins, aes(x = bill_length_mm, y = bill_depth_mm, colour = species)) +\n  geom_point(size = 2, na.rm = TRUE) +\n  guides(colour = guide_legend(override.aes = list(size = 6))) +\n  theme_minimal()\n\n\n\n\n\n\n\n# increase line thickness in legend only (penguins summarized by year)\ndf_line &lt;- penguins %&gt;%\n  filter(!is.na(species), !is.na(year), !is.na(body_mass_g)) %&gt;%\n  group_by(species, year) %&gt;%\n  summarise(mean_body_mass = mean(body_mass_g, na.rm = TRUE), .groups = \"drop\")\n\nggplot(df_line, aes(x = year, y = mean_body_mass, colour = species, group = species)) +\n  geom_line(linewidth = 0.7) +\n  geom_point(size = 1) +\n  guides(colour = guide_legend(override.aes = list(size = 3))) +\n  theme_minimal()",
    "crumbs": [
      "Plotting",
      "Plot Customisation"
    ]
  },
  {
    "objectID": "01-plotting/01-plotting.html#exercises",
    "href": "01-plotting/01-plotting.html#exercises",
    "title": "Plot Customisation",
    "section": "Exercises",
    "text": "Exercises\nExercise 1 — Scatter plot & legend styling Task: Create a scatter plot of body_mass_g (x) vs flipper_length_mm (y), colour points by species, add a title and axis labels, apply theme_bw(), set a manual colour scale (use three hex colours), and move the legend to the top with a single-row layout. Success criteria: plot shows colored points by species, custom colours used, title & axis labels present, legend at top in one row. Hint / starter code:\n\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\nggplot(penguins, aes(x = body_mass_g, y = flipper_length_mm, colour = species)) +\n  geom_point(na.rm = TRUE) +\n  labs(title = \"Body mass vs Flipper length\", x = \"Body mass (g)\", y = \"Flipper length (mm)\") +\n  scale_colour_manual(values = c(Adelie = \"#1b9e77\", Chinstrap = \"#d95f02\", Gentoo = \"#7570b3\")) +\n  guides(colour = guide_legend(nrow = 1, title.position = \"top\", title.hjust = 0.5)) +\n  theme_bw() +\n  theme(legend.position = \"top\")\n\nExercise 2 — Aggregation + line plot with legend overrides Task: Compute mean body mass per species per year, plot it as a line chart with points (one line per species), and make the legend show thicker lines than plotted in the panel (use guides override.aes). Success criteria: time series lines with points for each species, legend shows thicker line samples than panel lines. Hint / starter code:\n\ndf_line &lt;- penguins %&gt;%\n  filter(!is.na(species), !is.na(year), !is.na(body_mass_g)) %&gt;%\n  group_by(species, year) %&gt;%\n  summarise(mean_body_mass = mean(body_mass_g, na.rm = TRUE), .groups = \"drop\")\n\nggplot(df_line, aes(x = year, y = mean_body_mass, colour = species, group = species)) +\n  geom_line(linewidth = 0.6) +\n  geom_point(size = 1.5) +\n  guides(colour = guide_legend(override.aes = list(linewidth = 2, size = 4))) +\n  theme_minimal()\n\nExercise 3 — Facets, handling missing values, and saving output Task: Make a scatter plot of bill_length_mm vs bill_depth_mm, colour by sex, facet by island, remove rows with missing bill measurements before plotting, set axis limits to focus on typical ranges, and save the plot to “plots/bill_scatter.png” at 300 dpi. Success criteria: facets by island created, missing rows removed, axis limits set, plot saved to disk. Hint / starter code:\n\ndir.create(\"plots\", showWarnings = FALSE)\n\npenguins %&gt;%\n  drop_na(bill_length_mm, bill_depth_mm, sex) %&gt;%\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm, colour = sex)) +\n  geom_point(na.rm = TRUE) +\n  facet_wrap(~ island) +\n  xlim(30, 60) + ylim(10, 22) +\n  theme_classic() -&gt;\n  p\n\nggsave(\"plots/bill_scatter.png\", p, dpi = 300, width = 8, height = 5)",
    "crumbs": [
      "Plotting",
      "Plot Customisation"
    ]
  },
  {
    "objectID": "01-plotting/01-plotting.html#possible-solutions",
    "href": "01-plotting/01-plotting.html#possible-solutions",
    "title": "Plot Customisation",
    "section": "Possible solutions",
    "text": "Possible solutions\n\n# -------------------------\n# Possible solutions\n# -------------------------\n\n# Exercise 1 — Scatter plot & legend styling\nlibrary(ggplot2)\nex1_df &lt;- penguins %&gt;% drop_na(body_mass_g, flipper_length_mm, species)\n\nggplot(ex1_df, aes(x = body_mass_g, y = flipper_length_mm, colour = species)) +\n  geom_point(na.rm = TRUE) +\n  labs(\n    title = \"Body mass vs Flipper length\",\n    x = \"Body mass (g)\",\n    y = \"Flipper length (mm)\",\n    colour = \"Species\"\n  ) +\n  scale_colour_manual(\n    values = c(Adelie = \"#1b9e77\", Chinstrap = \"#d95f02\", Gentoo = \"#7570b3\")\n  ) +\n  guides(colour = guide_legend(nrow = 1, title.position = \"top\", title.hjust = 0.5)) +\n  theme_bw() +\n  theme(legend.position = \"top\")\n\n\n\n\n\n\n\n# Exercise 2 — Aggregation + line plot with legend overrides\ndf_line &lt;- penguins %&gt;%\n  filter(!is.na(species), !is.na(year), !is.na(body_mass_g)) %&gt;%\n  group_by(species, year) %&gt;%\n  summarise(mean_body_mass = mean(body_mass_g, na.rm = TRUE), .groups = \"drop\")\n\nggplot(df_line, aes(x = year, y = mean_body_mass, colour = species, group = species)) +\n  geom_line(linewidth = 0.6, na.rm = TRUE) +\n  geom_point(size = 1.5, na.rm = TRUE) +\n  labs(title = \"Mean body mass by species over years\", x = \"Year\", y = \"Mean body mass (g)\") +\n  guides(colour = guide_legend(override.aes = list(linewidth = 2, size = 4))) +\n  theme_minimal()\n\n\n\n\n\n\n\n# Exercise 3 — Facets, handling missing values, and saving output\ndir.create(\"plots\", showWarnings = FALSE)\n\nex3_df &lt;- penguins %&gt;% drop_na(bill_length_mm, bill_depth_mm, sex, island)\n\np &lt;- ggplot(ex3_df, aes(x = bill_length_mm, y = bill_depth_mm, colour = sex)) +\n  geom_point(na.rm = TRUE) +\n  facet_wrap(~ island) +\n  labs(title = \"Bill length vs Bill depth by island\", x = \"Bill length (mm)\", y = \"Bill depth (mm)\") +\n  coord_cartesian(xlim = c(30, 60), ylim = c(10, 22)) +  # focus on typical ranges without dropping data\n  theme_classic()\n\n#ggsave(\"plots/bill_scatter.png\", p, dpi = 300, width = 8, height = 5)\n\n\n# -------------------------\n# Possible solutions\n# -------------------------\n\n# Exercise 1 — Scatter plot & legend styling\nlibrary(ggplot2)\nex1_df &lt;- penguins %&gt;% drop_na(body_mass_g, flipper_length_mm, species)\n\nggplot(ex1_df, aes(x = body_mass_g, y = flipper_length_mm, colour = species)) +\n  geom_point(na.rm = TRUE) +\n  labs(\n    title = \"Body mass vs Flipper length\",\n    x = \"Body mass (g)\",\n    y = \"Flipper length (mm)\",\n    colour = \"Species\"\n  ) +\n  scale_colour_manual(\n    values = c(Adelie = \"#1b9e77\", Chinstrap = \"#d95f02\", Gentoo = \"#7570b3\")\n  ) +\n  guides(colour = guide_legend(nrow = 1, title.position = \"top\", title.hjust = 0.5)) +\n  theme_bw() +\n  theme(legend.position = \"top\")\n\n\n\n\n\n\n\n# Exercise 2 — Aggregation + line plot with legend overrides\ndf_line &lt;- penguins %&gt;%\n  filter(!is.na(species), !is.na(year), !is.na(body_mass_g)) %&gt;%\n  group_by(species, year) %&gt;%\n  summarise(mean_body_mass = mean(body_mass_g, na.rm = TRUE), .groups = \"drop\")\n\nggplot(df_line, aes(x = year, y = mean_body_mass, colour = species, group = species)) +\n  geom_line(linewidth = 0.6, na.rm = TRUE) +\n  geom_point(size = 1.5, na.rm = TRUE) +\n  labs(title = \"Mean body mass by species over years\", x = \"Year\", y = \"Mean body mass (g)\") +\n  guides(colour = guide_legend(override.aes = list(linewidth = 2, size = 4))) +\n  theme_minimal()\n\n\n\n\n\n\n\n# Exercise 3 — Facets, handling missing values, and saving output\ndir.create(\"plots\", showWarnings = FALSE)\n\nex3_df &lt;- penguins %&gt;% drop_na(bill_length_mm, bill_depth_mm, sex, island)\n\np &lt;- ggplot(ex3_df, aes(x = bill_length_mm, y = bill_depth_mm, colour = sex)) +\n  geom_point(na.rm = TRUE) +\n  facet_wrap(~ island) +\n  labs(title = \"Bill length vs Bill depth by island\", x = \"Bill length (mm)\", y = \"Bill depth (mm)\") +\n  coord_cartesian(xlim = c(30, 60), ylim = c(10, 22)) +  # focus on typical ranges without dropping data\n  theme_classic()\n\n#ggsave(\"plots/bill_scatter.png\", p, dpi = 300, width = 8, height = 5)",
    "crumbs": [
      "Plotting",
      "Plot Customisation"
    ]
  },
  {
    "objectID": "02-wrangling/02-wrangle.html",
    "href": "02-wrangling/02-wrangle.html",
    "title": "02-wrangle",
    "section": "",
    "text": "This short refresher demonstrates select, filter, mutate, group_by, and summarise using the palmerpenguins dataset.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(palmerpenguins)\n\n\nAttaching package: 'palmerpenguins'\n\nThe following objects are masked from 'package:datasets':\n\n    penguins, penguins_raw\n\n# minimal clean dataset for examples\npenguins_clean &lt;- penguins %&gt;%\n  select(species, island, bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g, sex) %&gt;%\n  drop_na()\n\nselect — keep specific columns\n\npenguins_clean %&gt;%\n  select(species, island, body_mass_g) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 3\n  species island    body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;           &lt;int&gt;\n1 Adelie  Torgersen        3750\n2 Adelie  Torgersen        3800\n3 Adelie  Torgersen        3250\n4 Adelie  Torgersen        3450\n5 Adelie  Torgersen        3650\n6 Adelie  Torgersen        3625\n\n\nfilter — keep rows matching conditions\n\n# filter by species and body mass &gt; 4000 g\npenguins_clean %&gt;%\n  filter(species == \"Adelie\", body_mass_g &gt; 4000) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 7\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.2          19.6               195        4675\n2 Adelie  Torgersen           34.6          21.1               198        4400\n3 Adelie  Torgersen           42.5          20.7               197        4500\n4 Adelie  Torgersen           46            21.5               194        4200\n5 Adelie  Dream               39.2          21.1               196        4150\n6 Adelie  Dream               39.8          19.1               184        4650\n# ℹ 1 more variable: sex &lt;fct&gt;\n\n\nmutate — add or transform columns\n\n# add body mass in kg and bill ratio\npenguins_clean %&gt;%\n  mutate(\n    body_mass_kg = body_mass_g / 1000,\n    bill_ratio = bill_length_mm / bill_depth_mm\n  ) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 9\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           36.7          19.3               193        3450\n5 Adelie  Torgersen           39.3          20.6               190        3650\n6 Adelie  Torgersen           38.9          17.8               181        3625\n# ℹ 3 more variables: sex &lt;fct&gt;, body_mass_kg &lt;dbl&gt;, bill_ratio &lt;dbl&gt;\n\n\ngroup_by + summarise — aggregate by groups\n\n# mean body mass and median flipper length per species\npenguins_clean %&gt;%\n  group_by(species) %&gt;%\n  summarise(\n    n = n(),\n    mean_body_mass = mean(body_mass_g, na.rm = TRUE),\n    median_flipper = median(flipper_length_mm, na.rm = TRUE)\n  ) %&gt;%\n  arrange(desc(mean_body_mass))\n\n# A tibble: 3 × 4\n  species       n mean_body_mass median_flipper\n  &lt;fct&gt;     &lt;int&gt;          &lt;dbl&gt;          &lt;dbl&gt;\n1 Gentoo      119          5092.            216\n2 Chinstrap    68          3733.            196\n3 Adelie      146          3706.            190\n\n\n\n## Using across() and where()\n\nUse across() to apply the same transformation or summary to multiple columns; use where() to select columns by predicate (e.g., is.numeric, is.character).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1) mutate with across + where: convert numeric measurements to centimeters\npenguins_clean %&gt;%\n  mutate(across(where(is.numeric), ~ . / 10, .names = \"{.col}_cm\")) %&gt;%\n  select(species, ends_with(\"_cm\")) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 5\n  species bill_length_mm_cm bill_depth_mm_cm flipper_length_mm_cm body_mass_g_cm\n  &lt;fct&gt;               &lt;dbl&gt;            &lt;dbl&gt;                &lt;dbl&gt;          &lt;dbl&gt;\n1 Adelie               3.91             1.87                 18.1           375 \n2 Adelie               3.95             1.74                 18.6           380 \n3 Adelie               4.03             1.8                  19.5           325 \n4 Adelie               3.67             1.93                 19.3           345 \n5 Adelie               3.93             2.06                 19             365 \n6 Adelie               3.89             1.78                 18.1           362.\n\n:::\n\n# 2) mutate with across on character columns: normalize text\npenguins_clean %&gt;%\n  mutate(across(where(is.character), ~ str_to_title(.))) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 7\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           36.7          19.3               193        3450\n5 Adelie  Torgersen           39.3          20.6               190        3650\n6 Adelie  Torgersen           38.9          17.8               181        3625\n# ℹ 1 more variable: sex &lt;fct&gt;\n\n\n\n# 3) summarise with across: compute mean and sd for all numeric columns per species\npenguins_clean %&gt;%\n  group_by(species) %&gt;%\n  summarise(across(where(is.numeric),\n                   list(mean = ~ mean(.x, na.rm = TRUE),\n                        sd   = ~ sd(.x, na.rm = TRUE)),\n                   .names = \"{.col}_{.fn}\"))\n\n# A tibble: 3 × 9\n  species   bill_length_mm_mean bill_length_mm_sd bill_depth_mm_mean\n  &lt;fct&gt;                   &lt;dbl&gt;             &lt;dbl&gt;              &lt;dbl&gt;\n1 Adelie                   38.8              2.66               18.3\n2 Chinstrap                48.8              3.34               18.4\n3 Gentoo                   47.6              3.11               15.0\n# ℹ 5 more variables: bill_depth_mm_sd &lt;dbl&gt;, flipper_length_mm_mean &lt;dbl&gt;,\n#   flipper_length_mm_sd &lt;dbl&gt;, body_mass_g_mean &lt;dbl&gt;, body_mass_g_sd &lt;dbl&gt;\n\n\n\n# 4) summarise with across + select helpers: mean of bill measurements\npenguins_clean %&gt;%\n  group_by(species) %&gt;%\n  summarise(across(starts_with(\"bill_\"), mean, na.rm = TRUE, .names = \"mean_{.col}\"))\n\nWarning: There was 1 warning in `summarise()`.\nℹ In argument: `across(starts_with(\"bill_\"), mean, na.rm = TRUE, .names =\n  \"mean_{.col}\")`.\nℹ In group 1: `species = Adelie`.\nCaused by warning:\n! The `...` argument of `across()` is deprecated as of dplyr 1.1.0.\nSupply arguments directly to `.fns` through an anonymous function instead.\n\n  # Previously\n  across(a:b, mean, na.rm = TRUE)\n\n  # Now\n  across(a:b, \\(x) mean(x, na.rm = TRUE))\n\n\n# A tibble: 3 × 3\n  species   mean_bill_length_mm mean_bill_depth_mm\n  &lt;fct&gt;                   &lt;dbl&gt;              &lt;dbl&gt;\n1 Adelie                   38.8               18.3\n2 Chinstrap                48.8               18.4\n3 Gentoo                   47.6               15.0",
    "crumbs": [
      "Data Manipulation",
      "02-wrangle"
    ]
  },
  {
    "objectID": "02-wrangling/02-wrangle.html#dplyr-refresher-with-palmerpenguins",
    "href": "02-wrangling/02-wrangle.html#dplyr-refresher-with-palmerpenguins",
    "title": "02-wrangle",
    "section": "",
    "text": "This short refresher demonstrates select, filter, mutate, group_by, and summarise using the palmerpenguins dataset.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(palmerpenguins)\n\n\nAttaching package: 'palmerpenguins'\n\nThe following objects are masked from 'package:datasets':\n\n    penguins, penguins_raw\n\n# minimal clean dataset for examples\npenguins_clean &lt;- penguins %&gt;%\n  select(species, island, bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g, sex) %&gt;%\n  drop_na()\n\nselect — keep specific columns\n\npenguins_clean %&gt;%\n  select(species, island, body_mass_g) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 3\n  species island    body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;           &lt;int&gt;\n1 Adelie  Torgersen        3750\n2 Adelie  Torgersen        3800\n3 Adelie  Torgersen        3250\n4 Adelie  Torgersen        3450\n5 Adelie  Torgersen        3650\n6 Adelie  Torgersen        3625\n\n\nfilter — keep rows matching conditions\n\n# filter by species and body mass &gt; 4000 g\npenguins_clean %&gt;%\n  filter(species == \"Adelie\", body_mass_g &gt; 4000) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 7\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.2          19.6               195        4675\n2 Adelie  Torgersen           34.6          21.1               198        4400\n3 Adelie  Torgersen           42.5          20.7               197        4500\n4 Adelie  Torgersen           46            21.5               194        4200\n5 Adelie  Dream               39.2          21.1               196        4150\n6 Adelie  Dream               39.8          19.1               184        4650\n# ℹ 1 more variable: sex &lt;fct&gt;\n\n\nmutate — add or transform columns\n\n# add body mass in kg and bill ratio\npenguins_clean %&gt;%\n  mutate(\n    body_mass_kg = body_mass_g / 1000,\n    bill_ratio = bill_length_mm / bill_depth_mm\n  ) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 9\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           36.7          19.3               193        3450\n5 Adelie  Torgersen           39.3          20.6               190        3650\n6 Adelie  Torgersen           38.9          17.8               181        3625\n# ℹ 3 more variables: sex &lt;fct&gt;, body_mass_kg &lt;dbl&gt;, bill_ratio &lt;dbl&gt;\n\n\ngroup_by + summarise — aggregate by groups\n\n# mean body mass and median flipper length per species\npenguins_clean %&gt;%\n  group_by(species) %&gt;%\n  summarise(\n    n = n(),\n    mean_body_mass = mean(body_mass_g, na.rm = TRUE),\n    median_flipper = median(flipper_length_mm, na.rm = TRUE)\n  ) %&gt;%\n  arrange(desc(mean_body_mass))\n\n# A tibble: 3 × 4\n  species       n mean_body_mass median_flipper\n  &lt;fct&gt;     &lt;int&gt;          &lt;dbl&gt;          &lt;dbl&gt;\n1 Gentoo      119          5092.            216\n2 Chinstrap    68          3733.            196\n3 Adelie      146          3706.            190\n\n\n\n## Using across() and where()\n\nUse across() to apply the same transformation or summary to multiple columns; use where() to select columns by predicate (e.g., is.numeric, is.character).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1) mutate with across + where: convert numeric measurements to centimeters\npenguins_clean %&gt;%\n  mutate(across(where(is.numeric), ~ . / 10, .names = \"{.col}_cm\")) %&gt;%\n  select(species, ends_with(\"_cm\")) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 5\n  species bill_length_mm_cm bill_depth_mm_cm flipper_length_mm_cm body_mass_g_cm\n  &lt;fct&gt;               &lt;dbl&gt;            &lt;dbl&gt;                &lt;dbl&gt;          &lt;dbl&gt;\n1 Adelie               3.91             1.87                 18.1           375 \n2 Adelie               3.95             1.74                 18.6           380 \n3 Adelie               4.03             1.8                  19.5           325 \n4 Adelie               3.67             1.93                 19.3           345 \n5 Adelie               3.93             2.06                 19             365 \n6 Adelie               3.89             1.78                 18.1           362.\n\n:::\n\n# 2) mutate with across on character columns: normalize text\npenguins_clean %&gt;%\n  mutate(across(where(is.character), ~ str_to_title(.))) %&gt;%\n  slice_head(n = 6)\n\n# A tibble: 6 × 7\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           36.7          19.3               193        3450\n5 Adelie  Torgersen           39.3          20.6               190        3650\n6 Adelie  Torgersen           38.9          17.8               181        3625\n# ℹ 1 more variable: sex &lt;fct&gt;\n\n\n\n# 3) summarise with across: compute mean and sd for all numeric columns per species\npenguins_clean %&gt;%\n  group_by(species) %&gt;%\n  summarise(across(where(is.numeric),\n                   list(mean = ~ mean(.x, na.rm = TRUE),\n                        sd   = ~ sd(.x, na.rm = TRUE)),\n                   .names = \"{.col}_{.fn}\"))\n\n# A tibble: 3 × 9\n  species   bill_length_mm_mean bill_length_mm_sd bill_depth_mm_mean\n  &lt;fct&gt;                   &lt;dbl&gt;             &lt;dbl&gt;              &lt;dbl&gt;\n1 Adelie                   38.8              2.66               18.3\n2 Chinstrap                48.8              3.34               18.4\n3 Gentoo                   47.6              3.11               15.0\n# ℹ 5 more variables: bill_depth_mm_sd &lt;dbl&gt;, flipper_length_mm_mean &lt;dbl&gt;,\n#   flipper_length_mm_sd &lt;dbl&gt;, body_mass_g_mean &lt;dbl&gt;, body_mass_g_sd &lt;dbl&gt;\n\n\n\n# 4) summarise with across + select helpers: mean of bill measurements\npenguins_clean %&gt;%\n  group_by(species) %&gt;%\n  summarise(across(starts_with(\"bill_\"), mean, na.rm = TRUE, .names = \"mean_{.col}\"))\n\nWarning: There was 1 warning in `summarise()`.\nℹ In argument: `across(starts_with(\"bill_\"), mean, na.rm = TRUE, .names =\n  \"mean_{.col}\")`.\nℹ In group 1: `species = Adelie`.\nCaused by warning:\n! The `...` argument of `across()` is deprecated as of dplyr 1.1.0.\nSupply arguments directly to `.fns` through an anonymous function instead.\n\n  # Previously\n  across(a:b, mean, na.rm = TRUE)\n\n  # Now\n  across(a:b, \\(x) mean(x, na.rm = TRUE))\n\n\n# A tibble: 3 × 3\n  species   mean_bill_length_mm mean_bill_depth_mm\n  &lt;fct&gt;                   &lt;dbl&gt;              &lt;dbl&gt;\n1 Adelie                   38.8               18.3\n2 Chinstrap                48.8               18.4\n3 Gentoo                   47.6               15.0",
    "crumbs": [
      "Data Manipulation",
      "02-wrangle"
    ]
  }
]